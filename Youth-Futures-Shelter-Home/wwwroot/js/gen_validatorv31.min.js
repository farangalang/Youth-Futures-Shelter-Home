function Validator(n){if(this.formobj=document.forms[n],!this.formobj){alert("Error: couldnot get Form object "+n);return}this.formobj.onsubmit?(this.formobj.old_onsubmit=this.formobj.onsubmit,this.formobj.onsubmit=null):this.formobj.old_onsubmit=null;this.formobj._sfm_form_name=n;this.formobj.onsubmit=form_submit_handler;this.addValidation=add_validation;this.setAddnlValidationFunction=set_addnl_vfunction;this.clearAllValidations=clear_all_validations;this.disable_validations=!1;document.error_disp_handler=new sfm_ErrorDisplayHandler;this.EnableOnPageErrorDisplay=validator_enable_OPED;this.EnableOnPageErrorDisplaySingleBox=validator_enable_OPED_SB;this.show_errors_together=!0;this.EnableMsgsTogether=sfm_enable_show_msgs_together;document.set_focus_onerror=!0;this.EnableFocusOnError=sfm_validator_enable_focus}function sfm_validator_enable_focus(n){document.set_focus_onerror=n}function set_addnl_vfunction(n){this.formobj.addnlvalidation=n}function sfm_set_focus(n){document.set_focus_onerror&&n.focus()}function sfm_enable_show_msgs_together(){this.show_errors_together=!0;this.formobj.show_errors_together=!0}function clear_all_validations(){for(var n=0;n<this.formobj.elements.length;n++)this.formobj.elements[n].validationset=null}function form_submit_handler(){var t=!0,n;for(document.error_disp_handler.clear_msgs(),n=0;n<this.elements.length;n++)if(this.elements[n].validationset&&!this.elements[n].validationset.validate()&&(t=!1),!t&&!this.show_errors_together)break;return(this.addnlvalidation&&(str=" var ret = "+this.addnlvalidation+"()",eval(str),ret||(t=!1)),!t)?(document.error_disp_handler.FinalShowMsg(),!1):!0}function add_validation(n,t,i){var u=null,r;if(arguments.length>3&&(u=arguments[3]),!this.formobj){alert("Error: The form object is not set properly");return}if(r=this.formobj[n],r.length&&isNaN(r.selectedIndex)&&(r=r[0]),!r){alert("Error: Couldnot get the input object named: "+n);return}r.validationset||(r.validationset=new ValidationSet(r,this.show_errors_together));r.validationset.add(t,i,u);r.validatorobj=this}function validator_enable_OPED(){document.error_disp_handler.EnableOnPageDisplay(!1)}function validator_enable_OPED_SB(){document.error_disp_handler.EnableOnPageDisplay(!0)}function sfm_ErrorDisplayHandler(){this.msgdisplay=new AlertMsgDisplayer;this.EnableOnPageDisplay=edh_EnableOnPageDisplay;this.ShowMsg=edh_ShowMsg;this.FinalShowMsg=edh_FinalShowMsg;this.all_msgs=[];this.clear_msgs=edh_clear_msgs}function edh_clear_msgs(){this.msgdisplay.clearmsg(this.all_msgs);this.all_msgs=[]}function edh_FinalShowMsg(){this.msgdisplay.showmsg(this.all_msgs)}function edh_EnableOnPageDisplay(n){this.msgdisplay=!0==n?new SingleBoxErrorDisplay:new DivMsgDisplayer}function edh_ShowMsg(n,t){var i=[];i.input_element=t;i.msg=n;this.all_msgs.push(i)}function AlertMsgDisplayer(){this.showmsg=alert_showmsg;this.clearmsg=alert_clearmsg}function alert_clearmsg(){}function alert_showmsg(n){for(var r="",t=null,i=0;i<n.length;i++)null==t&&(t=n[i].input_element),r+=n[i].msg+"\n";alert(r);null!=t&&sfm_set_focus(t)}function sfm_show_error_msg(n,t){document.error_disp_handler.ShowMsg(n,t)}function SingleBoxErrorDisplay(){this.showmsg=sb_div_showmsg;this.clearmsg=sb_div_clearmsg}function sb_div_clearmsg(n){var t=form_error_div_name(n);show_div_msg(t,"")}function sb_div_showmsg(n){for(var r,t="<ul>\n",i=0;i<n.length;i++)t+="<li>"+n[i].msg+"<\/li>\n";t+="<\/ul>";r=form_error_div_name(n);show_div_msg(r,t)}function form_error_div_name(n){var t=null,r,i;for(r in n)if(t=n[r].input_element,t)break;return i="",t&&(i=t.form._sfm_form_name+"_errorloc"),i}function DivMsgDisplayer(){this.showmsg=div_showmsg;this.clearmsg=div_clearmsg}function div_clearmsg(n){var t,i;for(t in n)i=element_div_name(n[t].input_element),show_div_msg(i,"")}function element_div_name(n){var t=n.form._sfm_form_name+"_"+n.name+"_errorloc";return t.replace(/[\[\]]/gi,"")}function div_showmsg(n){var t=null,i,r;for(i in n)null==t&&(t=n[i].input_element),r=element_div_name(n[i].input_element),show_div_msg(r,n[i].msg);null!=t&&sfm_set_focus(t)}function show_div_msg(n,t){if(n.length<=0)return!1;if(document.layers){if(divlayer=document.layers[n],!divlayer)return;divlayer.document.open();divlayer.document.write(t);divlayer.document.close()}else if(document.all){if(divlayer=document.all[n],!divlayer)return;divlayer.innerHTML=t}else if(document.getElementById){if(divlayer=document.getElementById(n),!divlayer)return;divlayer.innerHTML=t}divlayer.style.visibility="visible"}function ValidationDesc(n,t,i,r){this.desc=t;this.error=i;this.itemobj=n;this.condition=r;this.validate=vdesc_validate}function vdesc_validate(){return this.condition!=null&&!eval(this.condition)?!0:validateInput(this.desc,this.itemobj,this.error)?!0:(this.itemobj.validatorobj.disable_validations=!0,sfm_set_focus(this.itemobj),!1)}function ValidationSet(n,t){this.vSet=[];this.add=add_validationdesc;this.validate=vset_validate;this.itemobj=n;this.msgs_together=t}function add_validationdesc(n,t,i){this.vSet[this.vSet.length]=new ValidationDesc(this.itemobj,n,t,i)}function vset_validate(){for(var n=!0,t=0;t<this.vSet.length;t++)if(n=n&&this.vSet[t].validate(),!n&&!this.msgs_together)break;return n}function validateEmail(n){var t=n.match("^(.+)@(.+)$"),i,r,u;return t==null?!1:t[1]!=null&&(i=/^\"?[\w-_\.]*\"?$/,t[1].match(i)==null)?!1:t[2]!=null?(r=/^[\w-\.]*\.[A-Za-z]{2,4}$/,t[2].match(r)==null&&(u=/^\[\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}\]$/,t[2].match(u)==null))?!1:!0:!1}function IsCheckSelected(n,t){var f=!1,r=n.form.elements[n.name],u,i;if(r.length){for(u=-1,i=0;i<r.length;i++)if(r[i].value==t){u=i;break}u>=0&&r[u].checked=="1"&&(f=!0)}else n.checked=="1"&&(f=!0);return f}function TestDontSelectChk(n,t,i){var r=!0;return r=IsCheckSelected(n,t)?!1:!0,r==!1&&(i&&i.length!=0||(i="Can't Proceed as you selected "+n.name),sfm_show_error_msg(i,n)),r}function TestShouldSelectChk(n,t,i){var r=!0;return r=IsCheckSelected(n,t)?!0:!1,r==!1&&(i&&i.length!=0||(i="You should select "+n.name),sfm_show_error_msg(i,n)),r}function TestRequiredInput(n,t){var r=!0,i=n.value;return i=i.replace(/^\s+|\s+$/g,""),eval(i.length)==0&&(t&&t.length!=0||(t=n.name+" : Required Field"),sfm_show_error_msg(t,n),r=!1),r}function TestMaxLen(n,t,i){var r=!0;return eval(n.value.length)>eval(t)&&(i&&i.length!=0||(i=n.name+" : "+t+" characters maximum "),sfm_show_error_msg(i,n),r=!1),r}function TestMinLen(n,t,i){var r=!0;return eval(n.value.length)<eval(t)&&(i&&i.length!=0||(i=n.name+" : "+t+" characters minimum  "),sfm_show_error_msg(i,n),r=!1),r}function TestInputType(n,t,i,r){var u=!0,f=n.value.search(t);return n.value.length>0&&f>=0&&(i&&i.length!=0||(i=r),sfm_show_error_msg(i,n),u=!1),u}function TestEmail(n,t){var i=!0;return n.value.length>0&&!validateEmail(n.value)&&(t&&t.length!=0||(t=n.name+": Enter a valid Email address "),sfm_show_error_msg(t,n),i=!1),i}function TestLessThan(n,t,i){var r=!0;return isNaN(n.value)?(sfm_show_error_msg(n.name+": Should be a number ",n),r=!1):eval(n.value)>=eval(t)&&(i&&i.length!=0||(i=n.name+" : value should be less than "+t),sfm_show_error_msg(i,n),r=!1),r}function TestGreaterThan(n,t,i){var r=!0;return isNaN(n.value)?(sfm_show_error_msg(n.name+": Should be a number ",n),r=!1):eval(n.value)<=eval(t)&&(i&&i.length!=0||(i=n.name+" : value should be greater than "+t),sfm_show_error_msg(i,n),r=!1),r}function TestRegExp(n,t,i){var r=!0;return n.value.length>0&&!n.value.match(t)&&(i&&i.length!=0||(i=n.name+": Invalid characters found "),sfm_show_error_msg(i,n),r=!1),r}function TestDontSelect(n,t,i){var r=!0;return n.selectedIndex==null&&(sfm_show_error_msg("ERROR: dontselect command for non-select Item"),r=!1),n.selectedIndex==eval(t)&&(i&&i.length!=0||(i=n.name+": Please Select one option "),sfm_show_error_msg(i,n),r=!1),r}function TestSelectOneRadio(n,t){for(var u=n.form.elements[n.name],i=!1,r=0;r<u.length;r++)if(u[r].checked){i=!0;break}return!1==i&&(t&&t.length!=0||(t="Please select one option from "+n.name),sfm_show_error_msg(t,n)),i}function validateInput(n,t,i){var r=!0,f=n.search("="),e="",u="";f>=0?(e=n.substring(0,f),u=n.substr(f+1)):e=n;switch(e){case"req":case"required":r=TestRequiredInput(t,i);break;case"maxlength":case"maxlen":r=TestMaxLen(t,u,i);break;case"minlength":case"minlen":r=TestMinLen(t,u,i);break;case"alnum":case"alphanumeric":r=TestInputType(t,"[^A-Za-z0-9]",i,t.name+": Only alpha-numeric characters allowed ");break;case"alnum_s":case"alphanumeric_space":r=TestInputType(t,"[^A-Za-z0-9\\s]",i,t.name+": Only alpha-numeric characters and space allowed ");break;case"num":case"numeric":r=TestInputType(t,"[^0-9]",i,t.name+": Only digits allowed ");break;case"dec":case"decimal":r=TestInputType(t,"[^0-9.]",i,t.name+": Only numbers allowed ");break;case"alphabetic":case"alpha":r=TestInputType(t,"[^A-Za-z]",i,t.name+": Only alphabetic characters allowed ");break;case"alphabetic_space":case"alpha_s":r=TestInputType(t,"[^A-Za-z\\s]",i,t.name+": Only alphabetic characters and space allowed ");break;case"email":r=TestEmail(t,i);break;case"lt":case"lessthan":r=TestLessThan(t,u,i);break;case"gt":case"greaterthan":r=TestGreaterThan(t,u,i);break;case"regexp":r=TestRegExp(t,u,i);break;case"dontselect":r=TestDontSelect(t,u,i);break;case"dontselectchk":r=TestDontSelectChk(t,u,i);break;case"shouldselchk":r=TestShouldSelectChk(t,u,i);break;case"selone_radio":r=TestSelectOneRadio(t,i)}return r}function VWZ_IsListItemSelected(n,t){for(var i=0;i<n.options.length;i++)if(n.options[i].selected==!0&&n.options[i].value==t)return!0;return!1}function VWZ_IsChecked(n,t){if(n.length){for(var i=0;i<n.length;i++)if(n[i].checked=="1"&&n[i].value==t)return!0}else if(n.checked=="1")return!0;return!1}